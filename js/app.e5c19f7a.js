(function(t){function e(e){for(var a,o,s=e[0],c=e[1],u=e[2],l=0,p=[];l<s.length;l++)o=s[l],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&p.push(r[o][0]),r[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);f&&f(e);while(p.length)p.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],a=!0,o=1;o<n.length;o++){var s=n[o];0!==r[s]&&(a=!1)}a&&(i.splice(e--,1),t=c(c.s=n[0]))}return t}var a={},o={app:0},r={app:0},i=[];function s(t){return c.p+"js/"+({about:"about"}[t]||t)+"."+{about:"a2fb0f09"}[t]+".js"}function c(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n={about:1};o[t]?e.push(o[t]):0!==o[t]&&n[t]&&e.push(o[t]=new Promise((function(e,n){for(var a="css/"+({about:"about"}[t]||t)+"."+{about:"1e9d690b"}[t]+".css",r=c.p+a,i=document.getElementsByTagName("link"),s=0;s<i.length;s++){var u=i[s],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===a||l===r))return e()}var p=document.getElementsByTagName("style");for(s=0;s<p.length;s++){u=p[s],l=u.getAttribute("data-href");if(l===a||l===r)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var a=e&&e.target&&e.target.src||r,i=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=a,delete o[t],f.parentNode.removeChild(f),n(i)},f.href=r;var d=document.getElementsByTagName("head")[0];d.appendChild(f)})).then((function(){o[t]=0})));var a=r[t];if(0!==a)if(a)e.push(a[2]);else{var i=new Promise((function(e,n){a=r[t]=[e,n]}));e.push(a[2]=i);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=s(t);var p=new Error;u=function(e){l.onerror=l.onload=null,clearTimeout(f);var n=r[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;p.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",p.name="ChunkLoadError",p.type=a,p.request=o,n[1](p)}r[t]=void 0}};var f=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(e)},c.m=t,c.c=a,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)c.d(n,a,function(e){return t[e]}.bind(null,a));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/F2EW2/",c.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=e,u=u.slice();for(var p=0;p<u.length;p++)e(u[p]);var f=l;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";n("85ec")},"03c9":function(t,e,n){"use strict";n("a6fd")},"1e7a":function(t,e,n){"use strict";n("9d9e")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("HeadWrapper"),n("router-view")],1)},r=[],i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header"},[t._m(0),n("div",[n("ul",{staticClass:"btn-group"},[n("li",[n("router-link",{attrs:{to:"/"}},[n("i",{staticClass:"bx bx-smile"}),n("span",[t._v("YouBike")])])],1),n("li",[n("router-link",{attrs:{to:"/bikeShape"}},[n("i",{staticClass:"bx bx-git-repo-forked"}),n("span",[t._v("自行車路線")])])],1),n("li",[n("router-link",{attrs:{to:"/scenicSpot"}},[n("i",{staticClass:"bx bxs-image"}),n("span",[t._v(" 觀光景點")])])],1),n("li",[n("router-link",{attrs:{to:"/restaurant"}},[n("i",{staticClass:"bx bx-restaurant"}),n("span",[t._v("餐廳")])])],1)])])])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("ul",[a("li",[a("img",{attrs:{src:n("cf05"),alt:"logo"}}),a("span",{staticClass:"webName"},[t._v(" GoGoBike")])]),a("li",{staticClass:"search-box"},[a("input",{attrs:{type:"text",list:"datalist",placeholder:"搜尋地點"}}),a("datalist",{attrs:{id:"datalist"}},[a("option",{attrs:{value:"台北"}},[t._v("台北")]),a("option",{attrs:{value:"新北"}},[t._v("新北")]),a("option",{attrs:{value:"苗栗"}},[t._v("苗栗")]),a("option",{attrs:{value:"新竹"}},[t._v("新竹")]),a("option",{attrs:{value:"台中"}},[t._v("台中")]),a("option",{attrs:{value:"嘉義"}},[t._v("嘉義")]),a("option",{attrs:{value:"台南"}},[t._v("台南")]),a("option",{attrs:{value:"高艘"}},[t._v("高艘")]),a("option",{attrs:{value:"屏東"}},[t._v("屏東")]),a("option",{attrs:{value:"金門"}},[t._v("金門")])])])])])}],c={data:function(){return{show:!1}},methods:{showPopup:function(){this.show=!0}}},u=c,l=(n("03c9"),n("2877")),p=Object(l["a"])(u,i,s,!1,null,"010617e5",null),f=p.exports,d=n("7fe7"),m={name:"App",components:{HeadWrapper:f}},b=m,v=(n("034f"),Object(l["a"])(b,o,r,!1,null,null,null)),h=v.exports,g=(n("d3b7"),n("3ca3"),n("ddb0"),n("8c4f")),A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("button",{class:{active:t.show},on:{click:function(e){t.show=!t.show}}},[t.show?n("i",{staticClass:"bx bxs-hide"}):n("i",{staticClass:"bx bx-show"}),t._v(t._s(t.show?"關閉":"顯示")+"列表")]),n("van-popup",{style:{height:"75%"},attrs:{round:"",position:"bottom",overlay:!1},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},t._l(t.station,(function(e){return n("CardWrapper",{key:e.StationUID,attrs:{availableReturnBikes:e.AvailableReturnBikes,availableRentBikes:e.AvailableRentBikes,name:e.StationName.Zh_tw,address:e.StationAddress.Zh_tw,uid:e.StationUID,positon:[e.StationPosition.PositionLat,e.StationPosition.PositionLon],callback:t.clickitem}})})),1),n("l-map",{ref:"myMap",staticStyle:{height:"calc(100vh - 86px)"},attrs:{zoom:t.zoom,center:t.center,options:t.options}},[n("l-tile-layer",{attrs:{url:t.url,attribution:t.attribution}}),n("v-marker-cluster",{attrs:{options:{disableClusteringAtZoom:15}}},t._l(t.station,(function(e){return n("l-marker",{key:e.StationUID,attrs:{"lat-lng":[e.StationPosition.PositionLat,e.StationPosition.PositionLon]},on:{click:function(n){return t.pop(e)}}},[n("l-icon",{attrs:{"icon-url":t.icon.type.bike,"icon-size":t.icon.iconSize,"icon-anchor":t.icon.iconAnchor}})],1)})),1)],1)],1)},w=[],S=n("5530"),y=(n("d81d"),n("7db0"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card",on:{click:function(e){return t.callback(t.positon)}}},[n("ul",[n("li",[t._v(t._s(t.name))]),n("li",{staticClass:"address"},[n("i",{staticClass:"bx bxs-map"}),t._v(t._s(t.address))]),n("li",{staticClass:"bike-available"},[n("div",{staticClass:"rent-bike"},[n("span",[t._v(t._s(t.availableRentBikes))]),n("span",[t._v("可租借")])]),n("div",{staticClass:"line"}),n("div",{staticClass:"return-bike"},[n("span",[t._v(t._s(t.availableReturnBikes))]),n("span",[t._v("可歸還")])])])])])}),k=[],C=(n("a9e3"),{props:{show:Boolean,availableRentBikes:Number,availableReturnBikes:Number,name:String,address:String,uid:String,positon:Array,callback:Function}}),B=C,x=(n("1e7a"),Object(l["a"])(B,y,k,!1,null,"09aa45fc",null)),T=x.exports,_={name:"Home",components:{CardWrapper:T},data:function(){return{station:[],zoom:13,center:[25.043615,121.522522],url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'© <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',options:{zoomControl:!1},icon:{type:{bike:"img/youbike.png"},iconSize:[60,65],iconAnchor:[30,65]},show:!1}},methods:{pop:function(t){console.log(t)},clickitem:function(t){console.log(t),this.show=!1,this.$refs.myMap.mapObject.flyTo(t,18)}},mounted:function(){var t=this;Promise.all([d["a"].getStation(),d["a"].getAvailability()]).then((function(e){var n=e[0],a=e[1],o=n.map((function(t){var e=a.find((function(e){return e.StationUID===t.StationUID})),n=Object(S["a"])({},t);return n.AvailableReturnBikes=e.AvailableReturnBikes,n.AvailableRentBikes=e.AvailableRentBikes,n}));t.station=o})),this.$nextTick((function(){navigator.geolocation.getCurrentPosition((function(e){var n=e.coords;t.center=[n.latitude,n.longitude]}))}))}},O=_,j=(n("c29e"),Object(l["a"])(O,A,w,!1,null,"04b55a1b",null)),P=j.exports;a["a"].use(g["a"]);var I=[{path:"/",name:"Home",component:P},{path:"/bikeShape",name:"BikeShape",component:function(){return n.e("about").then(n.bind(null,"e894"))}},{path:"/scenicSpot",name:"ScenicSpot",component:function(){return n.e("about").then(n.bind(null,"dcdd"))}},{path:"/restaurant",name:"Restaurant",component:function(){return n.e("about").then(n.bind(null,"ad68"))}}],R=new g["a"]({routes:I}),L=R,N=n("2f62");a["a"].use(N["a"]);var U=new N["a"].Store({state:{},mutations:{},actions:{},modules:{}}),F=n("e41f"),M=(n("160b"),n("8243"),n("3ac1"),n("ca9f")),E=n.n(M),H=n("2699"),D=n("a40a"),J=n("4e2b"),V=n("f60f"),K=n("fbba"),Z=(n("6cc5"),n("e11e"));a["a"].component("v-marker-cluster",E.a),a["a"].use(F["a"]),a["a"].component("l-map",H["a"]),a["a"].component("l-tile-layer",D["a"]),a["a"].component("l-marker",J["a"]),a["a"].component("l-popup",V["a"]),a["a"].component("l-icon",K["a"]),delete Z["Icon"].Default.prototype._getIconUrl,Z["Icon"].Default.mergeOptions({iconRetinaUrl:n("584d"),iconUrl:n("6397"),shadowUrl:n("e2b9")}),new a["a"]({router:L,store:U,render:function(t){return t(h)}}).$mount("#app")},6808:function(t,e,n){},"7fe7":function(t,e,n){"use strict";n("d3b7");var a=n("bc3a"),o=n.n(a),r=n("6c2d"),i={getStation:function(){return new Promise((function(t,e){var n="https://ptx.transportdata.tw/MOTC/v2/Bike/Station/Taipei?$format=JSON";o.a.get(n,{headers:s()}).then((function(e){t(e.data)})).catch((function(t){e(t)}))}))},getAvailability:function(){return new Promise((function(t,e){var n="https://ptx.transportdata.tw/MOTC/v2/Bike/Availability/Taipei?$format=JSON";o.a.get(n,{headers:s()}).then((function(e){t(e.data)})).catch((function(t){e(t)}))}))},getShape:function(){return new Promise((function(t,e){var n="https://ptx.transportdata.tw/MOTC/v2/Cycling/Shape/Taipei?$top=30&$format=JSON";o.a.get(n,{headers:s()}).then((function(e){t(e.data)})).catch((function(t){e(t)}))}))},getSpot:function(){return new Promise((function(t,e){var n="https://ptx.transportdata.tw/MOTC/v2/Tourism/ScenicSpot/Taipei?$top=30&$format=JSON";o.a.get(n,{headers:s()}).then((function(e){t(e.data)})).catch((function(t){e(t)}))}))},getRestaurant:function(){return new Promise((function(t,e){var n="https://ptx.transportdata.tw/MOTC/v2/Tourism/Restaurant/Taipei?$top=30&$format=JSON";o.a.get(n,{headers:s()}).then((function(e){t(e.data)})).catch((function(t){e(t)}))}))}};function s(){var t="847eb7ec3d9d4e528b8a036f32677810",e="17aOpeKrCslp6j4p7GQQMZkIMtY",n=(new Date).toGMTString(),a=new r["a"]("SHA-1","TEXT");a.setHMACKey(e,"TEXT"),a.update("x-date: "+n);var o=a.getHMAC("B64"),i='hmac username="'+t+'", algorithm="hmac-sha1", headers="x-date", signature="'+o+'"';return{Authorization:i,"X-Date":n}}e["a"]=i},"85ec":function(t,e,n){},"9d9e":function(t,e,n){},a6fd:function(t,e,n){},c29e:function(t,e,n){"use strict";n("6808")},cf05:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACcAAAArCAYAAAD7YZFOAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAATsSURBVHgBzVhNTBxlGH6+AflTW5J6aG1plxMYKSy9mKhtt4mKaBC4mMbUFBrTi22AROyhNaUJvbQHaEIvmpSamsjBRKBGbCCBVGuiB1lADRxMl1Y90bgmFZpW5vV9v29gu+zMMrNu6T7JZme++X6eeb7v/Zs8bBAKd1S1FT65ZduDuwuzfsdY2AAUPVt1WhF6bUuVIldQtLUyVLS9apx/VLj9+XYERD4yBH0ZKp2IPRWuP4/9BIQthZBNiL0ZVvGFu4j/+BuFuVsERLFlRbUP/vg1KmTJyu8pXsxvjcej8fXWUAgAIYTiTS181XjlBiIfDpBu310GlJYA07eA+Tum794K4N2XlP5x/4mLY2rog8+pDWTj3p+/lPtZz5dymlTJpja+bAehtHsIODtMOPaqwsm3lCbmhfgi4eIoIn1jdkQI979n9e54B76wrnI0UhWBsvr5MiT3VycJb/cRTjUaYoLrs8RkWbnbRsm9FQrVZUbFryZN2/v8Iqec/h99QfHL31H099mfD2RMjq5V97BSSQd5foHJzJHervkFwtFL5l5UqSlzyPL934vAZla0YY/CsVeMuqLiWVa9b4zw8RHe8pdVl6qbPhOInDlbm3v4qsVroBCrO0d6BlloX4VKerbrmeSpRd2jl5j0EnDu4MpZ1KsNYimvVTWnGoj7mSt5up+trAlp0DlgXu1ap8VEDKG+UeCz74kV0otqwqLet3OmTdT95Ijpn4BqQvGy+L+ULU5Rzm0r3XB9Dti1BXqhvlHSBiJEDrEiIW6fYsudcs6gbHfDHiSpmwJFvapupsOTHI3sboFS/QiA7iFatdzzBwN5Jjd0qNene7GWHI1UhqAKxuFYpR/Iod963E6y3P8FhTjs+7WqfjYmt4kzp544HYSYQLbxhy5xG1kgJmAf6vBo1ZR0m1HtJnIFdL9c1DNZiWGbO6ACbZBOyqQiyCXk4bD8KSc8jSPXQPYBVs6KIBdBVpPF2u33ei6x8FFh3bnZl7Ny7qmzONdtxwmVJ2wnHGUPw5ypPHfCzL2SybiQqxGDCLs9E68vkCzk6mR2FZQYLC8scw//BC9ypb4KnHTJZCbwNR+lIXey0Xh9ySQaarMUARw01Jp/IZlInVKhOAv5S4cNF4j02VbNNzjOWkws5vXcjZikR/ILgkzGMGJCbirIiKnbwQ1keNLkf4FgY579HKJBxkiCKQSDYIbdhRQ8gaAwwcpZg0HG7Ks0eZzfbbpyw6To6Q6+K5iXpeqjMSl6/Y6RVFuy3m72g54O1IE8l8JbUvfkumEd8G4Kr5WsZCjAUF1/yva+0CWlHqWEIlMCmupsJ/cLnL7bdMFwhJSCYa7o7ZteLsULnQMJK1wpXmQLb90xW+nni4ALYlxHlK+S0wS/rm7n7K4HAbFSZD9cSNfsVDj0osrMRxK1qvqZy0nkdPs31Wz07rF2g7CqmiA5fJHVrCugxwFZl6ykwjqJnLZcmzrwOLAs2ymeI4GUwK/328bGEiScUW/MpPhbTxvP1EAC4yEDWIv0n8BGwlzP2oG+AgRADJbVrF6LeobPtMmmPgNLlmRfF5BN2Dwfz5uOmF4fPqFVhN3FIw4jE4g1LuNTLkN71x587yEBoaNJ0XITa94IUuITQ0hHSOK2jSHcyxt0+0CYVXJwJfuv47hViFtiyLPj+KcgFpTMWvwHXUj66VSDGNUAAAAASUVORK5CYII="}});
//# sourceMappingURL=app.e5c19f7a.js.map